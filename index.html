<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unit Converter</title>

    <script
      src="https://kit.fontawesome.com/8c7571e8e9.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <style>
    .c1 {
      position: relative;
      display: block;
    }

    .c2 {
      position: relative;
    }

    .label {
      font-size: 25px;
    }

    .input {
      height: 28px;
      border-radius: 5px;
      border: none;
      font-size: 25px;
      width: 158px;
    }

    /* #result-input {
      display: block;
      font-weight: bold;
      color: rgb(0, 0, 0);
      background-color: rgb(255, 255, 255);
      height: 28px;
      width: 200px;
      font-size: 25px;
    } */
  </style>
  <body>
    <!-- <script src="./index.js"></script> -->
    <div
      class="outer-box"
      style="
        background-color: rgb(200, 246, 200);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      "
    >
      <h1 style="font-size: 50px; height: 400px; color: rgb(9, 9, 115)">
        UNIT CONVERTER
      </h1>
      <div
        class="container1"
        style="
          position: absolute;
          left: 25%;
          border: 5px solid rgb(9, 9, 115);
          padding: 40px;
        "
      >
        <div class="c1" style="margin-bottom: 6px">
          <label for="input-value" class="label">Enter Value:</label>
          <input
            class="input"
            type="text"
            id="input-value"
            placeholder="00"
            style="font-weight: bold"
          />
        </div>

        <div class="c2">
          <label for="unit-select" class="label">Select Unit:</label>
          <select
            id="unit-select"
            class="input"
            style="width: 170px; font-size: 20px"
          >
            <option value="inch">Inch</option>
            <option value="centimeter" selected>Centimeter</option>
            <option value="foot">Foot</option>
            <option value="meter">Meter</option>
          </select>
        </div>
      </div>

      <div style="position: absolute">
        <i class="fa-solid fa-equals" style="font-size: 40px"></i>
      </div>

      <div
        class="container2"
        style="
          position: absolute;
          right: 25%;
          border: 2px solid black;
          padding: 40px;
          border: 5px solid rgb(9, 9, 115);
        "
      >
        <div class="c3" style="margin-bottom: 6px">
          <label class="label" for="input-value" style="font-size: 25px">
            Value:</label
          >
          <input
            type="text"
            class="input"
            id="result-input"
            style="border-radius: 5px"
          />
        </div>

        <div class="c4">
          <label for="unit-select" class="label">Select Unit:</label>
          <select
            id="unit-select2"
            class="input"
            style="width: 170px; font-size: 20px"
          >
            <option value="inch">Inch</option>
            <option value="centimeter">Centimeter</option>
            <option value="foot">Foot</option>
            <option value="meter" selected>Meter</option>
          </select>
        </div>
      </div>

      <div
        style="
          font-size: 50px;
          position: absolute;
          bottom: 220px;
          color: rgb(9, 9, 115);
        "
      >
        <button
          id="submitb"
          type="button"
          style="
            padding: 10px;
            height: 50px;
            width: 120px;
            border-radius: 5px;
            font-size: 21px;
            font-weight: bolder;
            color: rgb(9, 9, 115);
            background-color: rgb(226 226 255);
            cursor: pointer;
          "
        >
          CONVERT
        </button>
      </div>
    </div>

    <script>
      var input_f = document.getElementById("input-value");
      var input_f1 = document.getElementById("result-input");
      var dropdown1 = document.getElementById("unit-select");
      var dropdown2 = document.getElementById("unit-select2");

      function updateInputField(sourcefield, destinationfield, from, to) {
        var v = sourcefield.value;

        //output
        destinationfield.value = calculateResult(v, from, to);
      }

      function calculateResult(v, from, to) {
        if (from == "meter") {
          if (to == "meter") return v;
          if (to == "centimeter") return v * 100;
          if (to == "inch") return v * 39.37;
          if (to == "foot") return v * 3.281;
        }

        if (from == "inch") {
          if (to == "inch") return v;
          if (to == "centimeter") return v * 2.52;
          if (to == "meter") return v / 39.37;
          if (to == "foot") return v / 12;
        }
        if (from == "foot") {
          if (to == "inch") return v * 12;
          if (to == "meter") return v / 3.281;
          if (to == "centimeter") return v * 30.48;
        }
        if (from == "centimeter") {
          if (to == "inch") return v / 2.54;
          if (to == "meter") return v / 100;
          if (to == "foot") return v / 30.48;
        }
      }

      const submitt = document.getElementById("submitb");
      submitt.addEventListener("click", function () {
        updateInputField();
      });

      document.addEventListener("keydown", function (event) {
        //keycode of Enter key is 13
        if (event.keyCode == 13 || event.key == "Enter") {
          updateInputField();
        }
      });

      input_f.addEventListener("input", function () {
        if (!input_f1.matches(":focus")) {
          updateInputField(input_f, input_f1, dropdown1.value, dropdown2.value);
        }
      });

      input_f1.addEventListener("input", function () {
        if (!input_f.matches(":focus")) {
          updateInputField(input_f1, input_f, dropdown2.value, dropdown1.value);
        }
      });
    </script>
  </body>
</html>
